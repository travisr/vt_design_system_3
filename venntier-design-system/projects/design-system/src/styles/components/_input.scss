// Input Component Overrides - OpenAI Style
// Top-aligned labels, 48px height, #f9f9f9 backgrounds

@mixin vt-input-theme() {
  // Form field container - OpenAI pattern
  .mat-mdc-form-field {
    width: 100%;
    
    // Remove Material's floating label behavior
    &.mat-form-field-appearance-fill,
    &.mat-form-field-appearance-outline {
      .mat-mdc-text-field-wrapper {
        min-height: 48px;
        height: 48px;
        background-color: var(--md-sys-color-surface-container); // #f9f9f9
        border: 1px solid var(--md-sys-color-outline-variant);  // #e5e5e5
        border-radius: var(--md-sys-shape-corner-small);        // 6px
        transition: all var(--md-sys-motion-hover);
        padding: 0;
        
        // Remove Material's underline
        .mdc-line-ripple {
          display: none;
        }
        
        // Hover state
        &:hover:not(.mdc-text-field--disabled) {
          border-color: var(--md-sys-color-outline); // #d1d5db
          background-color: var(--md-sys-color-surface-container);
        }
        
        // Focus state - OpenAI subtle shadow
        &.mdc-text-field--focused {
          border-color: var(--md-sys-color-primary);
          background-color: var(--md-sys-color-surface-container-lowest); // white on focus
          box-shadow: 0 0 0 1px var(--md-sys-color-primary);
          outline: none;
        }
        
        // Disabled state
        &.mdc-text-field--disabled {
          background-color: var(--md-sys-color-surface-container-high);
          border-color: var(--md-sys-color-outline-variant);
          opacity: 0.6;
        }
      }
      
      // Input element styling
      .mat-mdc-input-element {
        height: 46px; // Account for 1px border
        padding: 12px 16px;
        font-size: var(--md-sys-typescale-body-large-size);
        font-weight: var(--md-sys-typescale-body-large-weight);
        line-height: 1.5;
        color: var(--md-sys-color-on-surface);
        
        &::placeholder {
          color: var(--md-sys-color-on-surface-variant);
          opacity: 0.6;
        }
        
        &:disabled {
          color: var(--md-sys-color-disabled);
        }
      }
      
      // Remove floating label container
      .mat-mdc-floating-label {
        display: none;
      }
      
      // Hide Material's notched outline
      .mdc-notched-outline {
        display: none;
      }
    }
    
    // Label above input (OpenAI style)
    .mat-form-field-label-wrapper {
      position: static;
      transform: none;
      padding: 0;
      margin-bottom: 6px;
      
      label {
        position: static;
        transform: none;
        font-size: var(--md-sys-typescale-label-large-size);
        font-weight: var(--md-sys-typescale-label-large-weight);
        color: var(--md-sys-color-on-surface);
        display: block;
        margin-bottom: 6px;
      }
    }
    
    // Error state
    &.mat-form-field-invalid {
      .mat-mdc-text-field-wrapper {
        border-color: var(--md-sys-color-error);
        
        &.mdc-text-field--focused {
          box-shadow: 0 0 0 1px var(--md-sys-color-error);
        }
      }
    }
    
    // Hide subscript wrapper (hints/errors below input)
    .mat-mdc-form-field-subscript-wrapper {
      margin-top: 4px;
      min-height: auto;
      
      .mat-mdc-form-field-error {
        font-size: var(--md-sys-typescale-body-small-size);
        color: var(--md-sys-color-error);
      }
      
      .mat-mdc-form-field-hint {
        font-size: var(--md-sys-typescale-body-small-size);
        color: var(--md-sys-color-on-surface-variant);
      }
    }
  }
  
  // Textarea specific styling
  .mat-mdc-form-field.vt-textarea {
    .mat-mdc-text-field-wrapper {
      height: auto;
      min-height: 120px;
    }
    
    .mat-mdc-input-element {
      height: auto;
      min-height: 116px; // Account for padding
      resize: vertical;
      padding: 12px 16px;
    }
  }
  
  // Select dropdown - OpenAI style
  .mat-mdc-select {
    .mat-mdc-select-trigger {
      height: 48px;
      background-color: var(--md-sys-color-surface-container);
      border: 1px solid var(--md-sys-color-outline-variant);
      border-radius: var(--md-sys-shape-corner-small);
      padding: 12px 16px;
      
      &:hover {
        border-color: var(--md-sys-color-outline);
      }
    }
    
    &.mat-mdc-select-focused {
      .mat-mdc-select-trigger {
        border-color: var(--md-sys-color-primary);
        box-shadow: 0 0 0 1px var(--md-sys-color-primary);
      }
    }
    
    .mat-mdc-select-arrow {
      color: var(--md-sys-color-on-surface-variant);
    }
  }
  
  // Autocomplete panel
  .mat-mdc-autocomplete-panel {
    background-color: var(--md-sys-color-surface);
    border: 1px solid var(--md-sys-color-outline-variant);
    border-radius: var(--md-sys-shape-corner-small);
    box-shadow: var(--md-sys-shadow);
    margin-top: 4px;
    
    .mat-mdc-option {
      height: 40px;
      padding: 8px 16px;
      
      &:hover {
        background-color: var(--md-sys-color-hover);
      }
      
      &.mat-mdc-option-active {
        background-color: var(--md-sys-color-selected);
      }
    }
  }
  
  // Checkbox - OpenAI style
  .mat-mdc-checkbox {
    .mdc-checkbox {
      width: 18px;
      height: 18px;
      
      .mdc-checkbox__background {
        border-color: var(--md-sys-color-outline);
        border-width: 1px;
        
        &::before {
          background-color: var(--md-sys-color-tertiary);
        }
      }
    }
    
    &.mat-mdc-checkbox-checked {
      .mdc-checkbox__background {
        background-color: var(--md-sys-color-tertiary);
        border-color: var(--md-sys-color-tertiary);
      }
    }
  }
  
  // Radio button - OpenAI style
  .mat-mdc-radio-button {
    .mdc-radio {
      width: 18px;
      height: 18px;
      
      .mdc-radio__outer-circle {
        border-color: var(--md-sys-color-outline);
        border-width: 1px;
      }
      
      .mdc-radio__inner-circle {
        background-color: var(--md-sys-color-tertiary);
      }
    }
    
    &.mat-mdc-radio-checked {
      .mdc-radio__outer-circle {
        border-color: var(--md-sys-color-tertiary);
      }
    }
  }
  
  // Slide toggle - OpenAI style
  .mat-mdc-slide-toggle {
    .mdc-switch {
      height: 24px;
      
      .mdc-switch__track {
        height: 14px;
        border-radius: 7px;
        background-color: var(--md-sys-color-outline-variant);
      }
      
      .mdc-switch__handle {
        width: 20px;
        height: 20px;
        border-radius: 10px;
        background-color: var(--md-sys-color-surface);
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      }
    }
    
    &.mat-mdc-slide-toggle-checked {
      .mdc-switch__track {
        background-color: var(--md-sys-color-tertiary);
      }
      
      .mdc-switch__handle {
        background-color: var(--md-sys-color-on-tertiary);
      }
    }
  }
  
  // Helper class for standalone labels
  .vt-input-label {
    display: block;
    font-size: var(--md-sys-typescale-label-large-size);
    font-weight: var(--md-sys-typescale-label-large-weight);
    color: var(--md-sys-color-on-surface);
    margin-bottom: 6px;
  }
  
  // Helper class for form groups
  .vt-form-group {
    margin-bottom: 24px;
    
    &:last-child {
      margin-bottom: 0;
    }
  }
}