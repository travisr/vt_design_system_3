.segmented-demo {
  display: flex;
  flex-direction: column;
  gap: var(--md-sys-spacing-12);
  margin-bottom: var(--md-sys-spacing-24);

  h4 {
    margin: 0;
    font-size: var(--md-sys-typescale-body-large-size, 16px);
    color: var(--md-sys-color-on-surface);
  }
}

.density-demo {
  display: flex;
  flex-direction: column;
  gap: var(--md-sys-spacing-24);
}

.density-example {
  display: flex;
  flex-direction: column;
  gap: var(--md-sys-spacing-12);

  h4 {
    margin: 0;
    font-size: var(--md-sys-typescale-body-medium-size, 14px);
    color: var(--md-sys-color-on-surface-variant);
  }
}

// Density variations are now handled by official Angular Material density mixins in the theme
// See: venntier-design-system/projects/design-system/src/styles/themes/_core-refined.scss

.use-case-card {
  padding: var(--md-sys-spacing-16);
  margin-bottom: var(--md-sys-spacing-16);

  h4 {
    margin: 0 0 var(--md-sys-spacing-16) 0;
    color: var(--md-sys-color-on-surface);
  }

  .result {
    margin: var(--md-sys-spacing-16) 0 0 0;
    padding: var(--md-sys-spacing-8);
    background-color: var(--md-sys-color-surface-variant);
    border-radius: var(--md-sys-shape-corner-small);
    font-size: var(--md-sys-typescale-body-medium-size, 14px);
    color: var(--md-sys-color-on-surface-variant);
  }
}

// Custom styling for button toggles
mat-button-toggle-group {
  border-radius: var(--md-sys-shape-corner-medium);
  border: 1px solid var(--md-sys-color-outline);
  overflow: hidden;
}

mat-button-toggle {
  // Hide ALL possible checkmark elements for clean OpenAI style
  // Target MDC checkbox components that might be embedded
  .mat-button-toggle-checkmark,
  .mdc-button-toggle__checkmark,
  .mat-pseudo-checkbox,
  .mat-button-toggle-checked-indicator,
  .mdc-checkbox,
  .mdc-checkbox__checkmark,
  .mdc-checkbox__checkmark-path,
  .mdc-checkbox__background,
  .mdc-checkbox__native-control,
  .mat-mdc-checkbox,
  .mat-mdc-checkbox-checkmark,
  .mdc-evolution-chip__checkmark,
  .mat-mdc-chip-checkmark,
  .mat-icon[data-mat-icon-name='check'],
  .mat-icon[data-mat-icon-name='done'] {
    display: none;
    visibility: hidden;
    opacity: 0;
    width: 0;
    height: 0;
    overflow: hidden;
  }

  // Hide any pseudo-elements that might be checkmarks
  &::before,
  &::after,
  .mat-button-toggle-label-content::before,
  .mat-button-toggle-label-content::after {
    content: none;
    display: none;
  }

  // Aggressive checkmark hiding - target any element that might contain checkmarks
  * {
    &[aria-label*='check'],
    &[title*='check'],
    &[data-icon*='check'] {
      display: none;
    }
  }

  border: var(--md-sys-shape-border-width, 1px) solid transparent;
  background-color: var(--md-sys-color-surface);
  color: var(--md-sys-color-on-surface);

  &:not(:last-child) {
    border-right: 1px solid var(--md-sys-color-outline-variant);
  }

  &.mat-button-toggle-checked {
    background-color: var(--md-sys-color-selected); // OpenAI gray #e5e5e5
    color: var(--md-sys-color-on-surface); // Black text

    // Override any content that might be adding checkmarks
    --mat-button-toggle-checkmark-content: '';
    --mdc-button-toggle-checkmark-content: '';

    // Remove any text content that might be checkmarks
    .mat-button-toggle-label-content {
      &::after {
        content: none;
        display: none;
      }
    }

    mat-icon {
      color: var(--md-sys-color-on-surface); // Black icons
    }
  }

  &:hover:not(.mat-button-toggle-disabled) {
    background-color: var(--md-sys-color-surface-variant);
  }

  &.mat-button-toggle-disabled {
    background-color: var(--md-sys-color-surface);
    color: var(--md-sys-color-on-surface);
    opacity: 0.38;
  }

  .mat-button-toggle-label-content {
    display: flex;
    align-items: center;
    gap: var(--md-sys-spacing-8);
    padding: var(--md-sys-spacing-8) var(--md-sys-spacing-12);

    mat-icon {
      font-size: var(--md-sys-spacing-18, 18px);
      width: 18px;
      height: 18px;
    }
  }
}

// NOTE: Focus styles removed to match clean OpenAI design approach
// Consistent with icon button focus handling

// Icon-only button toggles
mat-button-toggle-group:has(mat-button-toggle mat-icon:only-child) {
  mat-button-toggle .mat-button-toggle-label-content {
    padding: var(--md-sys-spacing-12);
    min-width: 40px;
    justify-content: center;
  }
}

// Multi-selection styling - consistent with single selection
// Use higher specificity to override Material Design defaults
.segmented-demo mat-button-toggle-group[multiple] mat-button-toggle.mat-button-toggle-checked,
mat-button-toggle-group[multiple]
  mat-button-toggle.mat-button-toggle-checked.mat-button-toggle-checked {
  background-color: var(--md-sys-color-selected); // OpenAI gray #e5e5e5
  color: var(--md-sys-color-on-surface); // Black text

  mat-icon {
    color: var(--md-sys-color-on-surface); // Black icons
  }
}

// Responsive adjustments
@media (width <= 768px) {
  mat-button-toggle .mat-button-toggle-label-content {
    padding: var(--md-sys-spacing-6) var(--md-sys-spacing-8);
    font-size: var(--md-sys-typescale-body-medium-size, 14px);

    mat-icon {
      font-size: var(--md-sys-spacing-16, 16px);
      width: 16px;
      height: 16px;
    }
  }

  .density-demo {
    gap: var(--md-sys-spacing-16);
  }
}

// High contrast mode support
@media (prefers-contrast: high) {
  mat-button-toggle-group {
    border-width: 2px;
  }

  mat-button-toggle:not(:last-child) {
    border-right-width: 2px;
  }
}
