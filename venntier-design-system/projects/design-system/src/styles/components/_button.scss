// Button Custom Styling - OpenAI-style layout behaviors
// Only includes styling not covered by mat.button-overrides()

@mixin vt-button-theme() {
  // Custom layout: Icon sizing within buttons (not available as tokens)
  .mat-mdc-button,
  .mat-mdc-raised-button,
  .mat-mdc-flat-button,
  .mat-mdc-outlined-button,
  .mat-mdc-unelevated-button {
    .mat-icon {
      width: 18px;
      height: 18px;
      font-size: 18px;
      margin: 0 4px;
    }
  }

  // NOTE: Primary button styling is now handled by mat.button-overrides() in core theme

  // NOTE: Outlined button styling is now handled by mat.button-overrides() in core theme

  // NOTE: Text button styling is now handled by mat.button-overrides() in core theme

  // NOTE: Icon button and FAB styling is now handled by overrides in core theme

  // Button group styling
  .vt-button-group {
    display: inline-flex;
    gap: 8px;

    &.vt-button-group--tight {
      gap: 4px;
    }

    &.vt-button-group--loose {
      gap: 16px;
    }
  }

  // Loading state
  .mat-mdc-button.vt-loading,
  .mat-mdc-raised-button.vt-loading,
  .mat-mdc-outlined-button.vt-loading {
    pointer-events: none;
    position: relative;

    &::after {
      content: '';
      position: absolute;
      width: 16px;
      height: 16px;
      top: 50%;
      left: 50%;
      margin-left: -8px;
      margin-top: -8px;
      border: 2px solid currentColor;
      border-radius: 50%;
      border-top-color: transparent;
      animation: vt-spin 0.6s linear infinite;
    }

    .vt-loading & {
      color: transparent;
    }
  }

  @keyframes vt-spin {
    to {
      transform: rotate(360deg);
    }
  }

  // Focus states - OpenAI subtle shadow instead of outline
  // NOTE: Icon button focus is now handled by mat.icon-button-overrides()
  .mat-mdc-button:focus-visible,
  .mat-mdc-raised-button:focus-visible,
  .mat-mdc-outlined-button:focus-visible {
    outline: none;
    box-shadow:
      0 0 0 2px var(--md-sys-color-surface),
      0 0 0 4px var(--md-sys-color-focus-ring);
  }

  // Disable Material ripple for cleaner OpenAI feel using MD3 tokens
  // NOTE: Icon button ripples are now handled by mat.icon-button-overrides()
  .mat-mdc-button,
  .mat-mdc-raised-button,
  .mat-mdc-outlined-button {
    --mat-mdc-button-ripple-color: transparent;
    --mat-mdc-button-persistent-ripple-color: transparent;
    --mdc-ripple-color: transparent;
    --mdc-ripple-hover-opacity: 0;
    --mdc-ripple-focus-opacity: 0;
    --mdc-ripple-pressed-opacity: 0;
  }
}
